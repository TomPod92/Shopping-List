{"version":3,"sources":["components/Navigation.js","components/PageAddProduct.js","components/Section.js","components/PageShop.js","components/PageShoppingList.js","components/App.js","index.js"],"names":["Navigation","props","react_default","a","createElement","className","react_router_dom","to","exact","numberOfProducts","PageAddProduct","state","name","type","handleChange","event","_this","setState","Object","defineProperty","target","value","toLowerCase","_this2","this","onSubmit","preventDefault","handleAddProduct","htmlFor","id","onChange","required","placeholder","React","Component","Section","list","productList","map","currentProduct","toBuy","bought","inShoppingList","key","productid","onClick","handleClickOnProduct","flag","handleRemoveFromShoppingList","length","PageShop","typeIDsArray","currentID","index","components_Section","products","filter","PageShoppingList","console","log","handleDeleteShoppingList","App","typeID","item","findIndex","current","newID","newTypeID","newProduct","prevState","concat","toConsumableArray","nodeName","newState","forEach","componentDidUpdate","JSON","stringify","localStorage","setItem","componentDidMount","oldState","parse","getItem","toBuyProducts","basename","components_Navigation","react_router","path","render","components_PageAddProduct","components_PageShop","components_PageShoppingList","ReactDOM","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.3960c4d4.chunk.js","sourcesContent":["import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport '../styles/navigation.scss'\r\n\r\n\r\nconst Navigation = (props) => {\r\n    return (\r\n        <header>\r\n        <nav>\r\n          <ul className=\"main-Nav\">\r\n            <li className=\"nav-item\"><NavLink to=\"/\" exact className=\"link\">Dodaj produkt</NavLink></li>\r\n            <li className=\"nav-item\"><NavLink to=\"/pageShop\" className=\"link\">Sklep</NavLink></li>\r\n            <li className=\"nav-item\"><NavLink to=\"/pageShoppinglist\" className=\"link\">Lista zakupów ({props.numberOfProducts})</NavLink></li>\r\n          </ul>\r\n        </nav>\r\n      </header>\r\n    )\r\n}\r\n\r\nexport default Navigation;","import React from \"react\";\r\nimport \"../styles/PageAddProduct.scss\";\r\n\r\nclass PageAddProduct extends React.Component {\r\n  state = {\r\n    name: \"\",\r\n    type: \"pieczywo\"\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value.toLowerCase()\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"formWrapper\">\r\n        <form\r\n          onSubmit={event => {\r\n            event.preventDefault();\r\n            this.setState({\r\n              name: \"\",\r\n              type: \"pieczywo\"\r\n            });\r\n            this.props.handleAddProduct(this.state);\r\n          }}\r\n          className=\"form\"\r\n        >\r\n          {/* Input z nazwa produktu */}\r\n          <label htmlFor=\"name\" className=\"form__label\">\r\n            Wpisz nazwę produktu\r\n          </label>\r\n\r\n          <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            name=\"name\"\r\n            value={this.state.name}\r\n            onChange={this.handleChange}\r\n            required\r\n            placeholder=\"np.chleb tostowy\"\r\n            className=\"form__input\"\r\n          />\r\n          {/* Input z działem danego produktu */}\r\n          <label htmlFor=\"type\" className=\"form__label\">\r\n            Podaj dział\r\n          </label>\r\n\r\n          <select\r\n            id=\"type\"\r\n            name=\"type\"\r\n            value={this.state.type}\r\n            onChange={this.handleChange}\r\n            className=\"form__input\"\r\n          >\r\n            <option value=\"pieczywo\">Pieczywo</option>\r\n            <option value=\"owoce i warzywa\">Owoce i warzywa</option>\r\n            <option value=\"nabiał\">Nabiał</option>\r\n            <option value=\"mięsa i sery\">Mięsa i sery</option>\r\n            <option value=\"mrożonki i przyprawy\">Mrożonki i przyprawy</option>\r\n            <option value=\"słoiki i puszki\">Puszki i słoiki</option>\r\n            <option value=\"kawa i herbata\">Kawa i herbata</option>\r\n            <option value=\"makarony\">Makarony i ryż</option>\r\n            <option value=\"słodycze\">Słodycze</option>\r\n            <option value=\"środki czystości\">Środki czystości</option>\r\n            <option value=\"napoje\">Napoje</option>\r\n            <option value=\"alkohole\">Alkohole</option>\r\n            <option value=\"art.papiernicze\">Art.papiernicze</option>\r\n            <option value=\"kosmetyki\">Kosmetyki</option>\r\n            <option value=\"ubrania\">Ubrania</option>\r\n          </select>\r\n\r\n          <button className=\"form__button\">Dodaj produkt</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PageAddProduct;\r\n","import React from \"react\";\r\nimport \"../styles/section.scss\";\r\n\r\n// set class Names for single product depending on its state: toBuy, bought, where is it (in Shop or in Shopping List)\r\nconst determineStyles = (toBuy, bought, inShoppingList) => {\r\n  if (!toBuy && !bought && !inShoppingList) return \"default section--item\";\r\n  else if (toBuy && !bought && inShoppingList) return \"default section--item\";\r\n  else if (toBuy && !bought && !inShoppingList) return \"grey section--item\";\r\n  else if (toBuy && bought && inShoppingList) return \"grey section--item\";\r\n  else if (toBuy && bought && !inShoppingList) return \"grey section--item\";\r\n};\r\n//----------------------------------\r\n\r\nconst Section = props => {\r\n  const list = props.productList.map(currentProduct => {\r\n    return (\r\n      <li\r\n        className={determineStyles(\r\n          currentProduct.toBuy,\r\n          currentProduct.bought,\r\n          props.inShoppingList\r\n        )}\r\n        key={currentProduct.id}\r\n        productid={currentProduct.id}\r\n        onClick={event =>\r\n          props.handleClickOnProduct(currentProduct.id, props.flag, event)\r\n        }\r\n      >\r\n        <span className=\"section--item__text\">{currentProduct.name}</span>\r\n\r\n        {props.inShoppingList && (\r\n          <button\r\n            className=\"section--item__button\"\r\n            onClick={() =>\r\n              props.handleRemoveFromShoppingList(currentProduct.id)\r\n            }\r\n          >\r\n            Usuń\r\n          </button>\r\n        )}\r\n      </li>\r\n    );\r\n  });\r\n\r\n  // if that section doesnt have any products inside do not render it\r\n  if (props.productList.length) {\r\n    return (\r\n      <div className=\"section\">\r\n        <h2 className={props.type + \" section--header\"}>{props.type}</h2>\r\n        {/* className moze miec pare slow oddzielonych spacja */}\r\n        <ul className=\"section--list\">{list}</ul>\r\n      </div>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default Section;\r\n","import React from \"react\";\r\nimport Section from \"./Section.js\";\r\n\r\nconst PageShop = props => {\r\n  return (\r\n    <div>\r\n      {props.typeIDsArray.map((currentID, index) => (\r\n        <Section\r\n          key={index}\r\n          type={currentID}\r\n          productList={props.products.filter(\r\n            currentProduct => currentProduct.type === currentID\r\n          )}\r\n          handleClickOnProduct={props.handleClickOnProduct}\r\n          flag={\"toBuy\"}\r\n          inShoppingList={false}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageShop;\r\n","import React from \"react\";\r\nimport Section from \"./Section.js\";\r\n\r\nconst PageShoppingList = props => {\r\n  console.log(props.products.length)\r\n  return (\r\n    <div>\r\n      {props.typeIDsArray.map((currentID, index) => (\r\n        <Section\r\n          key={index}\r\n          type={currentID}\r\n          productList={props.products.filter(\r\n            currentProduct => currentProduct.type === currentID\r\n          )}\r\n          handleClickOnProduct={props.handleClickOnProduct}\r\n          handleRemoveFromShoppingList={props.handleRemoveFromShoppingList}\r\n          flag={\"bought\"}\r\n          inShoppingList={true}\r\n        />\r\n      ))}\r\n\r\n      {/* display \"delete button\" only if there are any product in shopping list */}\r\n      {props.products.length ? (\r\n        <button\r\n          className=\"deleteButton\"\r\n          onClick={props.handleDeleteShoppingList}\r\n        >\r\n          Usuń listę zakupów\r\n        </button>\r\n      ) : null}\r\n\r\n      {props.products.length===0 && <div className='userInfo'>Nie masz nic w koszyku   :(</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageShoppingList;\r\n","import React from \"react\";\r\nimport \"../styles/App.scss\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Navigation from \"./Navigation.js\";\r\nimport PageAddProduct from \"./PageAddProduct.js\";\r\nimport PageShop from \"./PageShop.js\";\r\nimport PageShoppingList from \"./PageShoppingList.js\";\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    products: [\r\n      {\r\n        id: 0,\r\n        name: \"chleb\",\r\n        type: \"pieczywo\",\r\n        typeID: 0,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 1,\r\n        name: \"papryka\",\r\n        type: \"owoce i warzywa\",\r\n        typeID: 1,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 2,\r\n        name: \"jajka\",\r\n        type: \"nabiał\",\r\n        typeID: 2,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 3,\r\n        name: \"szynka\",\r\n        type: \"mięsa i sery\",\r\n        typeID: 3,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 4,\r\n        name: \"czosnek\",\r\n        type: \"mrożonki i przyprawy\",\r\n        typeID: 4,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 5,\r\n        name: \"fasolka\",\r\n        type: \"słoiki i puszki\",\r\n        typeID: 5,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 6,\r\n        name: \"herbata\",\r\n        type: \"kawa i herbata\",\r\n        typeID: 6,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 7,\r\n        name: \"ryż\",\r\n        type: \"makarony\",\r\n        typeID: 7,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 8,\r\n        name: \"czekolada\",\r\n        type: \"słodycze\",\r\n        typeID: 8,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 9,\r\n        name: \"papier toaletowy\",\r\n        type: \"środki czystości\",\r\n        typeID: 9,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 10,\r\n        name: \"woda\",\r\n        type: \"napoje\",\r\n        typeID: 10,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 11,\r\n        name: \"piwo\",\r\n        type: \"alkohole\",\r\n        typeID: 11,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 12,\r\n        name: \"zeszyt\",\r\n        type: \"art.papiernicze\",\r\n        typeID: 12,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 13,\r\n        name: \"pasta\",\r\n        type: \"kosmetyki\",\r\n        typeID: 13,\r\n        toBuy: false,\r\n        bought: false\r\n      },\r\n      {\r\n        id: 14,\r\n        name: \"kapcie\",\r\n        type: \"ubrania\",\r\n        typeID: 14,\r\n        toBuy: false,\r\n        bought: false\r\n      }\r\n    ]\r\n  };\r\n\r\n  typeIDsArray = [\r\n    \"pieczywo\",\r\n    \"owoce i warzywa\",\r\n    \"nabiał\",\r\n    \"mięsa i sery\",\r\n    \"mrożonki i przyprawy\",\r\n    \"słoiki i puszki\",\r\n    \"kawa i herbata\",\r\n    \"makarony\",\r\n    \"słodycze\",\r\n    \"środki czystości\",\r\n    \"napoje\",\r\n    \"alkohole\",\r\n    \"art.papiernicze\",\r\n    \"kosmetyki\",\r\n    \"ubrania\"\r\n  ];\r\n\r\n  handleAddProduct = item => {\r\n    // check if it already exists\r\n    const index = this.state.products.findIndex(\r\n      current => current.name === item.name\r\n    );\r\n\r\n    // if it doesnt exits\r\n    if (!(index + 1)) {\r\n      // calculate its ID\r\n      const newID = this.state.products.length;\r\n\r\n      // calculate its type ID\r\n      const newTypeID = this.typeIDsArray.findIndex(\r\n        current => current === item.type\r\n      );\r\n\r\n      // create product object\r\n      const newProduct = {\r\n        id: newID,\r\n        name: item.name,\r\n        type: item.type,\r\n        typeID: newTypeID,\r\n        toBuy: false,\r\n        bought: false\r\n      };\r\n\r\n      // add it to the state\r\n      this.setState(prevState => ({\r\n        products: [...prevState.products, newProduct]\r\n      }));\r\n    }\r\n  };\r\n\r\n  handleClickOnProduct = (id, flag, event) => {\r\n    // check if button in shopping list was clicked\r\n    // it it was, do not do anything (run its own function)\r\n    // when you click on that button both function will run otherwise\r\n    if (event.target.nodeName === \"BUTTON\") return;\r\n\r\n    // find id and index of clicked element\r\n    const index = this.state.products.findIndex(current => current.id === id);\r\n\r\n    // create a copy of state\r\n    const newState = this.state.products;\r\n\r\n    // change clicked element \"toBuy\" or \"bought\" (depending on flag = 'toBuy' or 'bought')\r\n    if (flag === \"toBuy\") {\r\n      newState[index].toBuy = !newState[index].toBuy;\r\n      newState[index].bought = false;\r\n    } else if (flag === \"bought\") {\r\n      newState[index].bought = !newState[index].bought;\r\n    }\r\n\r\n    // update the state with the new element\r\n    this.setState({\r\n      products: newState\r\n    });\r\n  };\r\n\r\n  handleDeleteShoppingList = () => {\r\n    // create a copy o state\r\n    let newState = this.state.products;\r\n\r\n    // change \"toBuy\" and \"bought\" properties for all products to false (it will delete them from shopping list)\r\n    newState.forEach(current => {\r\n      current.toBuy = false;\r\n      current.bought = false;\r\n    });\r\n\r\n    // update the state\r\n    this.setState({\r\n      products: newState\r\n    });\r\n  };\r\n\r\n  handleRemoveFromShoppingList = id => {\r\n    // create a copy of the state\r\n    const products = this.state.products;\r\n\r\n    // find index of clicked product\r\n    const index = products.findIndex(current => current.id === id);\r\n\r\n    // set its \"toBuy\" and \"bought\" values to false (remove it from shopping list)\r\n    products[index].toBuy = false;\r\n    products[index].bought = false;\r\n\r\n    // update the state\r\n    this.setState({\r\n      products\r\n    });\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    // everytime you add something to the state\r\n    // send whole state to localStorage\r\n    let state = JSON.stringify(this.state.products);\r\n    localStorage.setItem(\"oldState\", state);\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    // when app is redered for the first time\r\n    // check if there is something in localStorage\r\n    // if there is update the state\r\n    let oldState = JSON.parse(localStorage.getItem(\"oldState\"));\r\n    if (oldState) {\r\n      this.setState({\r\n        products: oldState\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const toBuyProducts = this.state.products.filter(\r\n      current => current.toBuy === true\r\n    ).length;\r\n    return (\r\n      <BrowserRouter basename=\"/#\">\r\n        <Navigation numberOfProducts={toBuyProducts} />\r\n\r\n        <section>\r\n          <Switch>\r\n            <Route\r\n              path=\"/\"\r\n              exact\r\n              render={() => (\r\n                <PageAddProduct handleAddProduct={this.handleAddProduct} />\r\n              )}\r\n            />\r\n            <Route\r\n              path=\"/pageShop\"\r\n              render={() => (\r\n                <PageShop\r\n                  products={this.state.products}\r\n                  typeIDsArray={this.typeIDsArray}\r\n                  handleClickOnProduct={this.handleClickOnProduct}\r\n                />\r\n              )}\r\n            />\r\n            <Route\r\n              path=\"/pageShoppinglist\"\r\n              render={() => (\r\n                <PageShoppingList\r\n                  products={this.state.products.filter(\r\n                    currentProduct => currentProduct.toBuy === true\r\n                  )}\r\n                  typeIDsArray={this.typeIDsArray}\r\n                  handleClickOnProduct={this.handleClickOnProduct}\r\n                  handleDeleteShoppingList={this.handleDeleteShoppingList}\r\n                  handleRemoveFromShoppingList={\r\n                    this.handleRemoveFromShoppingList\r\n                  }\r\n                />\r\n              )}\r\n            />\r\n            >\r\n          </Switch>\r\n        </section>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.scss\";\nimport App from \"./components/App.js\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}