(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(60)},35:function(e,t,a){},36:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(24),i=a.n(r),c=(a(35),a(25)),l=a(29),u=a(13),s=a(14),p=a(17),d=a(15),m=a(18),h=a(8),f=a(7),y=(a(36),function(e){return o.a.createElement("header",null,o.a.createElement("nav",null,o.a.createElement("ul",{className:"main-Nav"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(h.b,{to:"/",exact:!0,className:"link"},"Dodaj produkt")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(h.b,{to:"/pageShop",className:"link"},"Sklep")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(h.b,{to:"/pageShoppinglist",className:"link"},"Lista zakup\xf3w (",e.numberOfProducts,")")))))}),g=a(12),v=(a(45),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",type:"pieczywo"},a.handleChange=function(e){e.target.value.trim().length||(e.target.value=""),a.setState(Object(g.a)({},e.target.name,e.target.value.toLowerCase()))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"formWrapper"},o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setState({name:"",type:"pieczywo"}),e.props.handleAddProduct(e.state)},className:"form"},o.a.createElement("label",{htmlFor:"name",className:"form__label"},"Wpisz nazw\u0119 produktu"),o.a.createElement("input",{type:"text",id:"name",name:"name",value:this.state.name,onChange:this.handleChange,required:!0,placeholder:"np.chleb tostowy",className:"form__input"}),o.a.createElement("label",{htmlFor:"type",className:"form__label"},"Podaj dzia\u0142"),o.a.createElement("select",{id:"type",name:"type",value:this.state.type,onChange:this.handleChange,className:"form__input"},o.a.createElement("option",{value:"pieczywo"},"Pieczywo"),o.a.createElement("option",{value:"owoce i warzywa"},"Owoce i warzywa"),o.a.createElement("option",{value:"nabia\u0142"},"Nabia\u0142"),o.a.createElement("option",{value:"mi\u0119sa i sery"},"Mi\u0119sa i sery"),o.a.createElement("option",{value:"mro\u017conki i przyprawy"},"Mro\u017conki i przyprawy"),o.a.createElement("option",{value:"s\u0142oiki i puszki"},"Puszki i s\u0142oiki"),o.a.createElement("option",{value:"kawa i herbata"},"Kawa i herbata"),o.a.createElement("option",{value:"makarony"},"Makarony i ry\u017c"),o.a.createElement("option",{value:"s\u0142odycze"},"S\u0142odycze"),o.a.createElement("option",{value:"\u015brodki czysto\u015bci"},"\u015arodki czysto\u015bci"),o.a.createElement("option",{value:"napoje"},"Napoje"),o.a.createElement("option",{value:"alkohole"},"Alkohole"),o.a.createElement("option",{value:"art.papiernicze"},"Art.papiernicze"),o.a.createElement("option",{value:"kosmetyki"},"Kosmetyki"),o.a.createElement("option",{value:"ubrania"},"Ubrania")),o.a.createElement("button",{className:"form__button"},"Dodaj produkt")))}}]),t}(o.a.Component)),b=(a(46),function(e){var t=e.productList.map(function(t){return o.a.createElement("li",{className:(a=t.toBuy,n=t.bought,r=e.inShoppingList,a||n||r?a&&!n&&r?"default section--item":!a||n||r?a&&n&&r?"grey section--item":a&&n&&!r?"grey section--item":void 0:"grey section--item":"default section--item"),key:t.id,productid:t.id,onClick:function(a){return e.handleClickOnProduct(t.id,e.flag,t.firebaseKey,a)}},o.a.createElement("span",{className:"section--item__text"},t.name),e.inShoppingList?o.a.createElement("button",{className:"section--item__button",onClick:function(){return e.handleRemoveFromShoppingList(t.id,t.firebaseKey)}},"Usu\u0144"):o.a.createElement("button",{className:"section--item__button",onClick:function(){return e.handleRemoveFromShop(t.id,t.firebaseKey)}},"Usu\u0144"));var a,n,r});return e.productList.length?o.a.createElement("div",{className:"section"},o.a.createElement("h2",{className:"section--header"},e.type),o.a.createElement("ul",{className:"section--list"},t)):null}),k=function(e){return o.a.createElement("div",null,e.typeIDsArray.map(function(t,a){return o.a.createElement(b,{key:a,type:t,productList:e.products.filter(function(e){return e.type===t}),handleClickOnProduct:e.handleClickOnProduct,flag:"toBuy",inShoppingList:!1,handleRemoveFromShop:e.handleRemoveFromShop})}))},E=function(e){return o.a.createElement("div",null,e.typeIDsArray.map(function(t,a){return o.a.createElement(b,{key:a,type:t,productList:e.products.filter(function(e){return e.type===t}),handleClickOnProduct:e.handleClickOnProduct,handleRemoveFromShoppingList:e.handleRemoveFromShoppingList,flag:"bought",inShoppingList:!0})}),e.products.length?o.a.createElement("button",{className:"deleteButton",onClick:e.handleDeleteShoppingList},"Usu\u0144 list\u0119 zakup\xf3w"):null,0===e.products.length&&o.a.createElement("div",{className:"userInfo"},"Nie masz nic w koszyku :("))},S=a(16);S.initializeApp({apiKey:"AIzaSyAadHGx1CFCW84dLB38KRMqG8-wGL0IfSc",authDomain:"shopping-list-ef1c7.firebaseapp.com",databaseURL:"https://shopping-list-ef1c7.firebaseio.com",projectId:"shopping-list-ef1c7",storageBucket:"",messagingSenderId:"701096141827",appId:"1:701096141827:web:590ac1df40e02324"});var w=S.database(),z=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={products:[]},a.typeIDsArray=["pieczywo","owoce i warzywa","nabia\u0142","mi\u0119sa i sery","mro\u017conki i przyprawy","s\u0142oiki i puszki","kawa i herbata","makarony","s\u0142odycze","\u015brodki czysto\u015bci","napoje","alkohole","art.papiernicze","kosmetyki","ubrania"],a.handleAddProduct=function(e){if(!(a.state.products.findIndex(function(t){return t.name===e.name})+1)){var t;t=a.state.products.length?a.state.products[a.state.products.length-1].id+1:0;var n=a.typeIDsArray.findIndex(function(t){return t===e.type}),o={id:t,name:e.name,type:e.type,typeID:n,toBuy:!1,bought:!1};a.setState(function(e){return{products:[].concat(Object(l.a)(e.products),[o])}}),w.ref("products").push(o)}},a.handleClickOnProduct=function(e,t,n,o){if("BUTTON"!==o.target.nodeName){var r=a.state.products.findIndex(function(t){return t.id===e}),i=a.state.products;"toBuy"===t?(w.ref("products/".concat(n)).update({toBuy:!i[r].toBuy,bought:!1}),i[r].toBuy=!i[r].toBuy,i[r].bought=!1):"bought"===t&&(w.ref("products/".concat(n)).update({bought:!i[r].bought}),i[r].bought=!i[r].bought),a.setState({products:i})}},a.handleDeleteShoppingList=function(){var e=a.state.products;e.forEach(function(e){e.toBuy=!1,e.bought=!1,w.ref("products/".concat(e.firebaseKey)).update({toBuy:!1,bought:!1})}),a.setState({products:e})},a.handleRemoveFromShoppingList=function(e,t){var n=a.state.products,o=n.findIndex(function(t){return t.id===e});n[o].toBuy=!1,n[o].bought=!1,a.setState({products:n}),w.ref("products/".concat(t)).update({toBuy:!1,bought:!1})},a.handleRemoveFromShop=function(e,t){var n=a.state.products,o=n.findIndex(function(t){return t.id===e});n.splice(o,1),a.setState({products:n}),w.ref("products/".concat(t)).remove()},a.componentDidMount=function(){w.ref("products").on("value",function(e){var t=[];e.forEach(function(e){t.push(Object(c.a)({firebaseKey:e.key},e.val()))}),0!==t.length&&a.setState({products:t})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.products.filter(function(e){return!0===e.toBuy}).length;return o.a.createElement(h.a,null,o.a.createElement(y,{numberOfProducts:t}),o.a.createElement("section",null,o.a.createElement(f.c,null,o.a.createElement(f.a,{path:["/","/Shopping-List/"],exact:!0,render:function(){return o.a.createElement(v,{handleAddProduct:e.handleAddProduct})}}),o.a.createElement(f.a,{path:"/pageShop",render:function(){return o.a.createElement(k,{products:e.state.products,typeIDsArray:e.typeIDsArray,handleClickOnProduct:e.handleClickOnProduct,handleRemoveFromShop:e.handleRemoveFromShop})}}),o.a.createElement(f.a,{path:"/pageShoppinglist",render:function(){return o.a.createElement(E,{products:e.state.products.filter(function(e){return!0===e.toBuy}),typeIDsArray:e.typeIDsArray,handleClickOnProduct:e.handleClickOnProduct,handleDeleteShoppingList:e.handleDeleteShoppingList,handleRemoveFromShoppingList:e.handleRemoveFromShoppingList})}}),o.a.createElement(f.a,{render:function(){return o.a.createElement("div",{className:"userInfo"},"Ups, co\u015b posz\u0142o nie tak :(")}}))))}}]),t}(o.a.Component);i.a.render(o.a.createElement(z,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.d7015a61.chunk.js.map